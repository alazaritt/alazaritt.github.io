{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Arianna Lazaritt's Datasheet as part of  Sound and Motion Activated Light for  Team 205  <p>Submission: 12/8/2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This datasheet provides an overview of the sound detection board, a key component within my team's hands-free lighting system, explaining its design, functionality, and integration within the overall project. It includes a block diagram illustrating how the microphone, operational amplifier, and microcontroller interact to detect and process sound, explanations of component selection, the circuit schematic, and the board\u2019s power budget. This document should serve as a technical reference and provide a clear understanding of the board\u2019s operation and its contribution to the system\u2019s automatic lighting function. </p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>Our full team project focuses on creating a hands-free lighting system using three interconnected PCBs. The overall system includes a sound detection board and a brightness detection board, each responsible for sensing environmental triggers such as claps or when it's night time. When either board  detects activity, it sends a signal to a central control board, which processes the inputs and determines whether to activate or deactivate the lighting, providing an efficient and convenient automatic lighting solution.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>My part of the overall project focuses on the sound detection board. It uses a microphone to capture specific audio cues, which is then amplified by an op-amp. This signal is then processed by a microcontroller that will determine if the detected sound has reached a certain threshold to then send a signal to the controls board. That separate board will take the signal from my sound detection board to help decide whether to turn on or off lights. </p> <p>The successful development of this module is critical to the overall performance of the team project. By providing accurate and timely sound detection, my work ensures that the lighting system can respond reliably to auditory cues. This complements the motion detection module and enhances the system\u2019s functionality, contributing directly to the team\u2019s objective of creating an intelligent, hands-free lighting solution. More details on project requirements, user needs, and other aspects of the overall system can be found in the team report.</p> <p>To see how each major component within the subsytem communicates and interacts, see the Block Diagram section of the datasheet.</p> <p>For additional reasoning of why individual components were selected, please see the Component selection section of the datasheet.</p> <p>To review the details listed of the material used to construct the subsection, you can review it in the BOM section of the datasheet.</p> <p>For a more in depth overview of the subsystem and to access associated files with it, review the Schematic section of the datasheet.</p> <p>To see how power was taken into consideration and a calulated current draw of all components within the system, see the Power Budget section of the datasheet.</p> <p>The fully developed PCB of this subsystem can be found in the PCB Design section of the datasheet.</p> <p>The code that wwas used to run the subsytem can be found in the Resources part of the datasheet.</p> <p>Ideas of hardware improvements and adjustments are documented under Hardware V2.0</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This block diagram outlines my subsytem, which is the sound detection subsystem for an audio-activated light. The board includes a microphone (sensor) for detecting sound, with an op-amp used to tune the analog signal before it is read by the onboard ADC of the PIC18F57Q43 Curiosity Nano microcontroller. A digital output signal is then sent to a teammate's board to trigger a light as well as to make a motor stop spinning.</p> <p>9V is coming throught the barrel jack from the external power supply, however, the subsystem operates at 5V of power. These 5V can be provided via the voltage regulator within the circuit, or through power and ground being fed through the ribbon connector by a teammate's board. An override button to turn on the light regardless of sensing is included as a digital input. Communication with the main control board is handled through an 8-pin ribbon cable, using one digital signal line. The block diagram documents all major connections, power domains, signal directions, microcontroller use, and team interconnections.</p> <p>Each element of the block diagram contributes to key aspects of my team's product requirments. The main idea of our product is that a light is triggered in a hands-free way, specifically by using a microphone (as shown in the image below). The signal from the microphone goes through the op-amp to ensure that a clean signal is read, as our product requirments aim to minimze false triggers. The microcontroller is responsible for analyzing the  input signal and converting it to a digital output signal to toggle the light. The manual override button was also a key part of our product requirements, as we wanted consumers to have the option to turn a light on even if the room is lit or if sound is not detected.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#diagram-link","title":"Diagram Link","text":"<p>A direct link to the source file of the following block diagram can be found here.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#sound-board-block-diagram","title":"Sound Board Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":"<p>Table 1: Component selection (op-amp)</p> <p>Op-amp</p> Solution Pros Cons Option 1. Texas Instruments LM324N Op-Amp $0.47/eachlink to product * Inexpensive* Low power * single supply operation * No rail to rail input/output* Can't handle fast changing signals. * Option 2. * MCP6004-I/P-ND Op-amp * $0.59/each * Link to product * Integrated amplifier * Wide operating voltage  * compact design * Potential power noise * Sensitivity limitations * Limited frequency range * Option 3. * AD8669ARZ Op-amp * $9.36/each * Link to product * Dual op-amp * Rail to rail input/output  * Low offset * More expensive * Dual op-amp may limit ideas <p>Choice: Option 2: MCP6004-I/P-ND Op-amp</p> <p>Rationale: This op-amp will be most ideal to work with since it balances low power, high signal range, compact size, and cost. Unlike the other options, it handles faster signals, and it is more affordable and simpler than them. It meets our low-power, space-constrained audio amplification requirements.</p> <p>Table 1: Component selection (microphone)</p> <p>Microphone</p> Solution Pros Cons Option 1. RS PRO 7542100 Microphone $0.61/eachlink to product * Wide frequency response* High signal to noise ratio * Omni directoinal sound detection * Limited output constraints* Can't handle extreme temps. * Option 2. * Sparkfun microphone breakout * $8.50/each * Link to product * Integrated amplifier * More compact  * Wide operating voltage * More expensive * Limited frequency range * Potential power noise * Option 3. * CMA-4544PF-W Microphone * $0.76/each * Link to product * Minimizes background noise * Wide frequency range t  * Uniform sensitivity in all directions * Weaker sensitivity at lower voltages * requires external tuning * Lower sensitivity <p>Choice: Option 3: CMA-4544PF-W Microphone </p> <p>Rationale: The compact size of this microphone will allow it to easily fit within the device. It's wide frequency range, omni-directional noise detection, and high signal-to-noise ratio lets it precisely read sound levels while minimizing background noise. </p> <p>Table 3: Component selection (voltage regulator)</p> <p>Voltage regulator</p> Solution Pros Cons *Option 1.* Texas Instruments UA7805CKCSE3 voltage regulator* $1.43/eachlink to product * Built in circuit protection* Fixed linear regulator * can tolerate high input voltages * May overheat quickly* High dropout * May shut entire system if overheated * Option 2.  S-812C50AY-B2-U voltage regulator  $2.28/each  Link to product * Low current draw * Low dropout  * More compact * Limited output current * may not be compatible with all low voltage systems * Option 3. * L7805CV voltage regulator * $0.50/each  Link to product * High output current * Built in thermal and circuit protection * Inexpensive * High dropout * Efficiency decreases with higher voltage <p>Choice: Option 3: L7805CV voltage regulator</p> <p>Rationale: This one is ideal, as it offers a fixed 5\u202fV output with up to ~1.5\u202fA of current, built\u2011in protection, and ease of use with minimal external components. Its reliability and tolerance to voltage variations make it a safe, straightforward choice as there\u2019s enough headroom voltage to dissipate heat.</p> <p>Table 4: Component selection (button/switch)</p> <p>External Power Supply</p> Solution Pros Cons Option 1. WR9HD1333CCP-F(R6B) (V Power Supply $6.23/eachlink to product * Wide input voltage range* Sufficient voltage for small circuits * Operates efficiently and consistently * Fixed barrel plug and polarity may limit compatibility * May have operating temperature restrictions * Option 2. * DCU120050D4740 12V power supply * $7.65/each  Link to product * More compact design * Constant voltage supply  * Low cost * Unregulated current output * Low output current * Option 3. * BestCH 9V 3.0A AC Adapter * $4.52/each  Link to product * Stable and reliable output * Automatic overload cut off  * No voltage fluctuations at power on * Higher heat output * Cant handle high voltage <p>Choice: Option 3: BestCH 9V 3.0A AC Adapter</p> <p>Rationale: This power supply offers a clean, stable output with built-in overload protection, making it safer for sensitive electronics. Its smooth power-on behavior helps prevent voltage spikes that can damage circuits or cause unpredictable startup issues. Overall, it provides a good balance of reliability, protection features, and convenience. </p> <p>Overall Rationale: Each component was chosen through an evaluation of performance, cost, and compatibility with the system\u2019s low-power and compact design requirements. The MCP6004-I/P op-amp was chosen for its low power consumption, high signal range, and stable signal amplification. This makes it ideal for accurate signal processing while keeping cost and complexity low. The CMA-4544PF-W microphone provides a wide frequency range and high signal-to-noise ratio, ensuring clear and reliable sound detection while remaining compact enough to fulfill project requirements.</p> <p>To maintain stable operation, the L7805CV voltage regulator was selected for its reliable 5 V output, built-in protection features, and simplicity, making it optimal for low-power circuitry. Finally, the BestCH 9V 3.0A AC Adapter provides a safe and stable option for powering the board, offering built in protections against voltage spikes as well as regualted voltage outputs for the circuit</p> <p>Table 4: Final Components Selected (summary)</p> Part Name/Description Manufacturer/Part Number Function Rationale Op-amp Microchip/MCP6004-I/P-ND Amplifies and conditions analog signal from the microphone This op-amp balances low power and high signal range regardless of signal speed Microphone Same Sky/CMA-4544PF-W converts sound to an electrical signal It provides a wide range frequency response and stable sensitivity. Its small size, low power requirement, and standard interface also simplify integration within the subsytem Voltage regulator STMicroelectronics/L7805CV To ensure that only 5V of power runs through the circuit It allows for a fixed 5\u202fV output with up to ~1.5\u202fA of current. Its reliability and tolerance to voltage variations ensure safety, as there\u2019s enough headroom voltage to dissipate heat. PowerSupply BestCH/EA10302 Provides 9V and 3A of power to the circuit It integrates lots of safety features to protect the circuit, ensuring that the correct amount of voltage and current runs through it at all times. <p>Table 5: MCC Pinout</p> Component Pin Pin Type Direction Purpose Microphone (ADC) RA0 Analog Input Signal from microphone is read and analyzed by microcontroller Ribbon connector RA1 Digital Output Sends the received signal from the micrphone to a teammate's board via a ribbon connector Button RB4 Digital Input Provides a manual override button if a user wants to trigger the light regardless of soud detction LED RF3 Digital Output Turns on when a signal is sent to the other board"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>The Bill of Materials (BOM) outlines all necessary components for the design and assembly of the project. It includes each part\u2019s specifications, quantity, and cost, providing a clear and comprehensive overview of the materials needed for construction. Serving as a key reference document, the BOM ensures component compatibility and reliable production of the final design.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p>Table 1: All necessary parts for the sound board system</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators 0.1 \u00b5F Ceramic Capacitor, +/-10%, X7R, 50V, 0805 package 5 0.2750 $1.38 KEMET C0805F104K5RACTU PRLTA 109 n/a C1, C2, C3, C4, C5 Green LED 1 0.24 $0.24 W\u00fcrth Elektronik 151051BS04000 PRLTA 109 n/a D1 750mA fuse 1 1.17 $1.17 Littlefuse Inc. 0251.750MXL Digikey datasheet F1 Barrel jack switch 1 0.76 $0.76 Same Sky PJ-102AH PRLTA 109 n/a J1 Ribbon connector 1 1.19 $1.19 molex 0702460801 Digikey datasheet J2 UART connector 1 1.07 $1.07 Sullins Connector Solutions PPPC201LFBN-RC Digikey datasheet J3 Extra headers 1 0.49 $0.49 Sullins Connector Solutions PPPC032LFBN-RC Digikey datasheet J4 Small bridged jumpers 4 0.28 $1.12 W\u00fcrth Elektronik 60900213421 Digikey datasheet JP1, JP2, JP3, JP4, JP5 Voltage regulator 1 0.50 $0.50 STMicroelectronics L7805CV Digikey datasheet L7805AL1 Microphone 1 0.76 $0.76 Same Sky CMA-4544PF-W Digikey datasheet MK1 Curiosity Nano PIC18F57Q4 1 10.19 $10.19 Microchip DM164150 PRLTA 109 datasheet CuriosityNanoAL1 10k ohm resistor 3 0.10 $0.30 YAGEO MFR25SFTF52-10K PRLTA 109 n/a R1, R3, R9 100k ohm resistor 1 0.10 $0.10 YAGEO MFR25SFBE52-100K PRLTA 109 n/a R2 1k ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-1K PRLTA 109 n/a R4 2.2k ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-2K2 PRLTA 109 n/a R5 100 ohm resistor 2 0.10 $0.20 YAGEO MFR-25FTF52-100R PRLTA 109 n/a R6, R7 220 ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-220R PRLTA 109 n/a R8 10k potentiometer 1 0.10 $0.10 Bourns Inc. PDB181-K420F-103B PRLTA 109 n/a RV1 Push button switch 1 1.30 $1.30 Same Sky TS02-66-43-BK-260-LCR-D PRLTA 109 n/a SW1 MCP6004 Op Amp 1 0.59 $0.59 Microchip Technology MCP6004-I/P PRLTA 109 datasheet U1","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>The schematic illustrates how the system effectively converts audio input from a microphone into a control signal for a separate board to operate lights, fulfilling both user needs and product requirements. </p> <p>This schematic shows an individual audio sensor subsystem designed to detect and process sound reliably. It consists of three main sections, a microphone with an amplifier, a regulated power supply, and a microcontroller, each supporting user needs and product requirements for accuracy, compatibility, and responsiveness.</p> <p>The microphone and amplifier convert sound into an electrical signal and boost it to a usable level. The microphone generates a small AC voltage, which the op-amp amplifies before sending to be processed by the microcontroller. The integration of the op-amp stabilizes the signal and minimizes noise, ensuring the microcontroller receives a clean, accurate input. This section fulfills the need for precise sound detection and reliable performance in variable sound conditions.</p> <p>The power supply circuit provides the required 5V throughout the system. It includes a barrel jack for external power, a voltage regulator for steady output, and protection components such as a fuse and capacitors. This ensures consistent operation and protects the circuit from overvoltage or current surges.</p> <p>The microcontroller subsystem processes the amplified sound signal, detects when it exceeds a threshold, and provides output or feedback. A push button allows for any necessary manual control, while an LED indicator provides immediate visual feedback and aids in any needed debugging. UART and header connections offer expandability and debugging options. Power filtering capacitors and protection diodes ensure stable, noise-free operation.</p> <p> Figure 1: Sound board schematic</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This power budget confirms that the power supply and voltage regulator can safely provide enough current for all major components. By summing the estimated current draw of each component and taking into account a 25% safety margin, it ensures stable operation, prevents overload, and guides design decisions.</p> <p> </p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepared Power Budget, it is clear that the chosen power supply and voltage regulator meet the current and voltage requirements of all major components with a sufficient safety margin. It showns that the system will operate reliably without power issues.</p> <p>The power budget was also used to determine the size of the fuse this system would require by identifying its maximum current draw. After listing every powered component and summing their worst-case maximum currents, a margin of error was added to account for possible surges and variability. The fuse rating was then selected to be above the maximum expected operating current so normal operation would not cause accidental blows, but still low enough to protect wiring and components during faults.</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as an excel file is available here.</p>"},{"location":"06-PCB-Design/PCB-Design/","title":"PCB Design","text":"","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#overview","title":"Overview","text":"<p>My PCB is responsible for detecting environmental sounds through a microphone, amplifying the signal with an op-amp, and sending a processed digital signal to a seperate board via a microcontroller. The PCB layout ensures that the microphone and op-amp are properly placed for minimal noise, and that the microcontroller\u2019s power and ground connections are strong enough for reliable signal transmission. </p> <p>In order to safely carry current, all power and ground traces are 40 mils, which also reduces voltage drops. All other signal traces, like those connecting the microphone, op-amp, and microcontroller I/O pins, are 20 mils, which is sufficient for lower current signals. Bypass and decoupling capacitors have been placed as close as possible to the microcontroller power pins, with shorter traces to reduce noise. This design ensures reliable detection of sound events while maintaining manufacturability and signal strength.</p>","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#pcb-design-layout-ecad","title":"PCB Design Layout (ECAD)","text":"<p>Both Layers (front view) </p> <p>Top Layer </p> <p>Bottom Layer (back view) </p>","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#final-pcb","title":"Final PCB","text":"<p>My team's boards did not deliver on time for us to physically receive them but they were manufactured and eventually delivered. The following are renders received from JLC</p> <p>Front View </p> <p>Back View </p>","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#pcb-resources","title":"PCB Resources","text":"<p>The zip folder of the project is available here, the zip folder of the gerber files are available here.</p>","tags":["tag1","tag2"]},{"location":"07-Resources/Resources/","title":"Resources","text":"","tags":["tag1","tag2"]},{"location":"07-Resources/Resources/#code","title":"Code","text":"<p>This code runs on a Microchip PIC18F57Q43 Curiosity Nano using MCC generated drivers. It continuously reads an analog microphone input through the ADC, checks whether a button is pressed, and drives both an onboard LED and a digital output line accordingly. After initializing the system and ADC, the code enters an infinite loop where it samples the microphone (on analog channel ANA0) and compares the measured value to a defined threshold. If the sound level detected by the microphone exceeds the set threshold, the LED turns on and sends out a digital \u201cyes\u201d signal (logic high) is sent out on pin RA1 if the sound is below the threshold, both outputs remain low. This output signal is sent to and read by a seperate board.</p> <p>The button on RB4 acts as a manual override. When pressed, it bypasses the microphone logic and forces both the LED and the output signal high after a short debounce delay. This allows the user to trigger the external signal or LED even when the microphone input is quiet. Overall, the code implements a simple sound-triggered digital output with a user-controlled override.</p> <p>The zip folder of the project is available here.</p>","tags":["tag1","tag2"]},{"location":"08-Hardware-V2.0/Hardware%20V2.0/","title":"Hardware V2.0","text":"<p>If a Version 2.0 of this audio-sensor subsystem were developed, my main focus would be improving the signal picked up by the microphone. The microphone\u2019s raw output is typically a very low-level AC voltage, which makes it susceptible to noise and interference. While there are ways to enhance this with the code, I feel like improving it with hardware and strengthening this signal before it reaches the microcontroller would make it more reliable. </p> <p>To implement proper frequency filtering, RC filter networks would be inserted around the microphone and amplifier stages. For example, a series coupling capacitor (1\u201310 \u03bcF) followed by a resistor (possibly 10 k ohms) to ground at the microphone output forms a high-pass filter to block DC and low-frequency noise. After the op-amp output, a low-pass filter could be created using a resistor and capacitor to attenuate high-frequency noise. These filters would require adding a few small-value capacitors and precision resistors to ensure the signal detected is clear.</p> <p>To stabilize the microphone bias and improve power supply draw, a low-pass filter, consisting of a small resistor (100 ohms) and a capacitor around 1 \u03bcF, would be added on the microphone\u2019s bias line to reduce noise. Additional larger decoupling capacitors (10\u201350\u03bcF) near the voltage regulator input and output would smooth out any voltage variations. These capacitors and resistors are standard passive components mounted close to the power pins.</p> <p>Aside from simply improving the sensing of the microphone, a higher quality microphone could also be considered. Replacing the current microphone with a higher quality one would provide a stronger output signal and more consistent frequency response, reducing the amplification required in the op-amp stage and improving the signal-to-noise ratio. These microphones can handle higher sound pressure levels and maintain better linearity, which helps prevent distortion during loud sound events. While it might be more expensive than standard electret microphones, they simplify the analog front-end design, improve detection reliability, and enhance overall system performance, especially in noisy environments.</p> <p>Altogether, these physical additions would strengthen the microphone signal path and enhance the overall robustness and reliability of the system.</p>","tags":["tag1","tag2"]}]}