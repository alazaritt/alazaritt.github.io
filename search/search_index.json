{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Arianna Lazaritt's Datasheet as part of  Sound and Motion Activated Light for  Team 205  <p>Submission: 12/8/2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This datasheet provides an overview of the sound detection board, a key component within my team's hands-free lighting system, explaining its design, functionality, and integration within the overall project. It includes a block diagram illustrating how the microphone, operational amplifier, and microcontroller interact to detect and process sound, explanations of component selection, the circuit schematic, and the board\u2019s power budget. This document should serve as a technical reference and provide a clear understanding of the board\u2019s operation and its contribution to the system\u2019s automatic lighting function. </p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>Our full team project focuses on creating a hands-free lighting system using three interconnected PCBs. The overall system includes a sound detection board and a brightness detection board, each responsible for sensing environmental triggers such as claps or when it's night time. When either board  detects activity, it sends a signal to a central control board, which processes the inputs and determines whether to activate or deactivate the lighting, providing an efficient and convenient automatic lighting solution.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>My part of the overall project focuses on the sound detection board. It uses a microphone to capture specific audio cues, which is then amplified by an op-amp. This signal is then processed by a microcontroller that will determine if the detected sound has reached a certain threshold to then send a signal to the controls board. That separate board will take the signal from my sound detection board to help decide whether to turn on or off lights. </p> <p>The successful development of this module is critical to the overall performance of the team project. By providing accurate and timely sound detection, my work ensures that the lighting system can respond reliably to auditory cues. This complements the motion detection module and enhances the system\u2019s functionality, contributing directly to the team\u2019s objective of creating an intelligent, hands-free lighting solution. More details on project requirements, user needs, and other aspects of the overall system can be found in the team report.</p> <p>To see how each major component within the subsytem communicates and interacts, see the Block Diagram section of the datasheet.</p> <p>For additional reasoning of why individual components were selected, please see the Component selection section of the datasheet.</p> <p>To review the details listed of the material used to construct the subsection, you can review it in the BOM section of the datasheet.</p> <p>For a more in depth overview of the subsystem and to access associated files with it, review the Schematic section of the datasheet.</p> <p>To see how power was taken into consideration and a calulated current draw of all components within the system, see the Power Budget section of the datasheet.</p> <p>The fully developed PCB of this subsystem can be found in the PCB Design section of the datasheet.</p> <p>The code that wwas used to run the subsytem can be found in the Microcontroller Code part of the datasheet.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This block diagram outlines the audio sensor subsystem for an audio-activated light. The board includes a microphone for detecting sound, with an op-amp used to tune the analog signal before it is read by the onboard ADC of the PIC18F57Q43 Curiosity Nano microcontroller. A digital output signal is then sent to a teammate's board to trigger a light as well as to make a motor stop spinning.</p> <p>The subsystem operates at 5V of power via a voltage regulator, or through power and ground being fed through the ribbon connector. An override button to turn on the light regardless of sensing is included as a digital input. Communication with the main control board is handled through an 8-pin ribbon cable, using one digital signal line. The block diagram documents all major connections, power domains, signal directions, microcontroller use, and team interconnections.</p> <p>Each element of the block diagram contributes to key aspects of my team's product requirments. The main idea of our product is that a light is triggered in a hands-free way, specifically by using a microphone (as shown in the image below). The signal from the microphone goes through the op-amp to ensure that a clean signal is read, as our product requirments aim to minimze false triggers. The microcontroller is responsible for analyzing the  input signal and converting it to a digital output signal to toggle the light. The manual override button was also a key part of our product requirements, as we wanted consumers to have the option to turn a light on even if the room is lit or if sound is not detected.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#diagram-link","title":"Diagram Link","text":"<p>A direct link to the source file of the following block diagram can be found here.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#sound-board-block-diagram","title":"Sound Board Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":"<p>Table 1: Component selection (op-amp)</p> <p>Op-amp</p> Solution Pros Cons Option 1. Texas Instruments LM324N Op-Amp $0.47/eachlink to product * Inexpensive* Low power * single supply operation * No rail to rail input/output* Can't handle fast changing signals. * Option 2. * MCP6004-I/P-ND Op-amp * $0.59/each * Link to product * Integrated amplifier * Wide operating voltage  * compact design * Potential power noise * Sensitivity limitations * Limited frequency range * Option 3. * AD8669ARZ Op-amp * $9.36/each * Link to product * Dual op-amp * Rail to rail input/output  * Low offset * More expensive * Dual op-amp may limit ideas <p>Choice: Option 2: MCP6004-I/P-ND Op-amp</p> <p>Rationale: This op-amp will be most ideal to work with since it balances low power, high signal range, compact size, and cost. Unlike the other options, it handles faster signals, and it is more affordable and simpler than them. It meets our low-power, space-constrained audio amplification requirements.</p> <p>Table 1: Component selection (microphone)</p> <p>Microphone</p> Solution Pros Cons Option 1. RS PRO 7542100 Microphone $0.61/eachlink to product * Wide frequency response* High signal to noise ratio * Omni directoinal sound detection * Limited output constraints* Can't handle extreme temps. * Option 2. * Sparkfun microphone breakout * $8.50/each * Link to product * Integrated amplifier * More compact  * Wide operating voltage * More expensive * Limited frequency range * Potential power noise * Option 3. * CMA-4544PF-W Microphone * $0.76/each * Link to product * Minimizes background noise * Wide frequency range t  * Uniform sensitivity in all directions * Weaker sensitivity at lower voltages * requires external tuning * Lower sensitivity <p>Choice: Option 3: CMA-4544PF-W Microphone </p> <p>Rationale: The compact size of this microphone will allow it to easily fit within the device. It's wide frequency range, omni-directional noise detection, and high signal-to-noise ratio lets it precisely read sound levels while minimizing background noise. </p> <p>Table 3: Component selection (voltage regulator)</p> <p>Voltage regulator</p> Solution Pros Cons *Option 1.* Texas Instruments UA7805CKCSE3 voltage regulator* $1.43/eachlink to product * Built in circuit protection* Fixed linear regulator * can tolerate high input voltages * May overheat quickly* High dropout * May shut entire system if overheated * Option 2.  S-812C50AY-B2-U voltage regulator  $2.28/each  Link to product * Low current draw * Low dropout  * More compact * Limited output current * may not be compatible with all low voltage systems * Option 3. * L7805CV voltage regulator * $0.50/each  Link to product * High output current * Built in thermal and circuit protection * Inexpensive * High dropout * Efficiency decreases with higher voltage <p>Choice: Option 3: L7805CV voltage regulator</p> <p>Rationale: This one is ideal, as it offers a fixed 5\u202fV output with up to ~1.5\u202fA of current, built\u2011in protection, and ease of use with minimal external components. Its reliability and tolerance to voltage variations make it a safe, straightforward choice as there\u2019s enough headroom voltage to dissipate heat.</p> <p>Table 4: Component selection (button/switch)</p> <p>Button/switch</p> Solution Pros Cons Option 1. SLW-1276864-4A-D slide switch $0.83/eachlink to product * Good for low power loads* Raised actuator * Moderate mechanical lifespan * Limited switching cycles * On-on signal may cause shorts * Option 2. * TS02-66-43-BK-260-LCR-D button * $0.10/each * Link to product * Minimal voltage drop when switch is closed * High mechanical life  * Wide tempe range for use * Low current rating * More force required to operate it * Not sealed from dust or moisture * Option 3. * 418117270901 switch * $0.85/each  Link to product * Lower voltage required * More compact  * Low corrosion * Single pole * Cant handle high voltage <p>Choice: Option 2: TS02-66-43-BK-260-LCR-D button</p> <p>Rationale: The button was chosen for its compactness and user friendliness. With a 50\u202fmA current rating and 12\u202fVDC voltage rating, it is appropriate for low-power control circuits. The switch's 60,000-cycle mechanical life ensures durability for typical user interactions. </p> <p>Overall Rationale Each component was chosen through an evaluation of performance, cost, and compatibility with the system\u2019s low-power and compact design requirements. The MCP6004-I/P op-amp was chosen for its low power consumption, high signal range, and stable signal amplification. This makes it ideal for accurate signal processing while keeping cost and complexity low. The CMA-4544PF-W microphone provides a wide frequency range and high signal-to-noise ratio, ensuring clear and reliable sound detection while remaining compact enough to fulfill project requirements.</p> <p>To maintain stable operation, the L7805CV voltage regulator was selected for its reliable 5 V output, built-in protection features, and simplicity, making it optimal for low-power circuitry. Finally, the TS02-66-43-BK-260-LCR-D button offers durability, small size, and suitable electrical ratings for low-voltage control inputs. Together, these components meet the product\u2019s requirements for efficiency, reliability, and cost-effectiveness, ensuring consistent performance within the intended conditions.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>The Bill of Materials (BOM) outlines all necessary components for the design and assembly of the project. It includes each part\u2019s specifications, quantity, and cost, providing a clear and comprehensive overview of the materials needed for construction. Serving as a key reference document, the BOM ensures component compatibility and reliable production of the final design.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p>Table 1: All necessary parts for the sound board system</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators 0.1 \u00b5F Ceramic Capacitor, +/-10%, X7R, 50V, 0805 package 5 0.2750 $1.38 KEMET C0805F104K5RACTU PRLTA 109 n/a C1, C2, C3, C4, C5 Green LED 1 0.24 $0.24 W\u00fcrth Elektronik 151051BS04000 PRLTA 109 n/a D1 750mA fuse 1 1.17 $1.17 Littlefuse Inc. 0251.750MXL Digikey datasheet F1 Barrel jack switch 1 0.76 $0.76 Same Sky PJ-102AH PRLTA 109 n/a J1 Ribbon connector 1 1.19 $1.19 molex 0702460801 Digikey datasheet J2 UART connector 1 1.07 $1.07 Sullins Connector Solutions PPPC201LFBN-RC Digikey datasheet J3 Extra headers 1 0.49 $0.49 Sullins Connector Solutions PPPC032LFBN-RC Digikey datasheet J4 Small bridged jumpers 4 0.28 $1.12 W\u00fcrth Elektronik 60900213421 Digikey datasheet JP1, JP2, JP3, JP4, JP5 Voltage regulator 1 0.50 $0.50 STMicroelectronics L7805CV Digikey datasheet L7805AL1 Microphone 1 0.76 $0.76 Same Sky CMA-4544PF-W Digikey datasheet MK1 Curiosity Nano PIC18F57Q4 1 10.19 $10.19 Microchip DM164150 PRLTA 109 datasheet CuriosityNanoAL1 10k ohm resistor 3 0.10 $0.30 YAGEO MFR25SFTF52-10K PRLTA 109 n/a R1, R3, R9 100k ohm resistor 1 0.10 $0.10 YAGEO MFR25SFBE52-100K PRLTA 109 n/a R2 1k ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-1K PRLTA 109 n/a R4 2.2k ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-2K2 PRLTA 109 n/a R5 100 ohm resistor 2 0.10 $0.20 YAGEO MFR-25FTF52-100R PRLTA 109 n/a R6, R7 220 ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-220R PRLTA 109 n/a R8 5k ohm resistor 1 0.10 $0.10 YAGEO MFR-25FTF52-5k PRLTA 109 n/a R10 Push button switch 1 0.10 $0.10 Same Sky TS02-66-43-BK-260-LCR-D PRLTA 109 n/a SW1 MCP6004 Op Amp 1 0.59 $0.59 Microchip Technology MCP6004-I/P PRLTA 109 datasheet U1","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>The schematic illustrates how the system effectively converts audio input from a microphone into a control signal for a separate board to operate lights, fulfilling both user needs and product requirements. </p> <p>This schematic shows an individual audio sensor subsystem designed to detect and process sound reliably. It consists of three main sections, a microphone with an amplifier, a regulated power supply, and a microcontroller, each supporting user needs and product requirements for accuracy, compatibility, and responsiveness.</p> <p>The microphone and amplifier convert sound into an electrical signal and boost it to a usable level. The microphone generates a small AC voltage, which the op-amp amplifies before sending to be processed by the microcontroller. The integration of the op-amp stabilizes the signal and minimizes noise, ensuring the microcontroller receives a clean, accurate input. This section fulfills the need for precise sound detection and reliable performance in variable sound conditions.</p> <p>The power supply circuit provides the required 5V throughout the system. It includes a barrel jack for external power, a voltage regulator for steady output, and protection components such as a fuse and capacitors. This ensures consistent operation and protects the circuit from overvoltage or current surges.</p> <p>The microcontroller subsystem processes the amplified sound signal, detects when it exceeds a threshold, and provides output or feedback. A push button allows for any necessary manual control, while an LED indicator provides immediate visual feedback and aids in any needed debugging. UART and header connections offer expandability and debugging options. Power filtering capacitors and protection diodes ensure stable, noise-free operation.</p> <p> Figure 1: Sound board schematic</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This power budget confirms that the power supply and voltage regulator can safely provide enough current for all major components. By summing the estimated current draw of each component and taking into account a 25% safety margin, it ensures stable operation, prevents overload, and guides design decisions.</p> <p> </p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepared Power Budget, it is clear that the chosen power supply and voltage regulator meet the current and voltage requirements of all major components with a sufficient safety margin. It showns that the system will operate reliably without power issues.</p> <p>The power budget was also used to determine the size of the fuse this system would require by identifying its maximum current draw. After listing every powered component and summing their worst-case maximum currents, a margin of error was added to account for possible surges and variability. The fuse rating was then selected to be above the maximum expected operating current so normal operation would not cause accidental blows, but still low enough to protect wiring and components during faults.</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as an excel file is available here.</p>"},{"location":"06-PCB-Design/PCB-Design/","title":"PCB Design","text":"","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#overview","title":"Overview","text":"<p>My PCB is responsible for detecting environmental sounds through a microphone, amplifying the signal with an op-amp, and sending a processed digital signal to a seperate board via a microcontroller. The PCB layout ensures that the microphone and op-amp are properly placed for minimal noise, and that the microcontroller\u2019s power and ground connections are strong enough for reliable signal transmission. </p> <p>In order to safely carry current, all power and ground traces are 40 mils, which also reduces voltage drops. All other signal traces, like those connecting the microphone, op-amp, and microcontroller I/O pins, are 20 mils, which is sufficient for lower current signals. Bypass and decoupling capacitors have been placed as close as possible to the microcontroller power pins, with shorter traces to reduce noise. This design ensures reliable detection of sound events while maintaining manufacturability and signal strength.</p>","tags":["tag1","tag2"]},{"location":"06-PCB-Design/PCB-Design/#pcb-design-layout","title":"PCB Design Layout","text":"<p>Both Layers </p> <p>Top Layer </p> <p>Bottom Layer </p> <p>The zip folder of the project is available here, the zip folder of the gerber files are available here.</p>","tags":["tag1","tag2"]},{"location":"07-Microcontroller-Code/code/","title":"Resources","text":"","tags":["tag1","tag2"]},{"location":"07-Microcontroller-Code/code/#code","title":"Code","text":"<p>This code runs on a Microchip PIC18F57Q43 Curiosity Nano using MCC generated drivers. It continuously reads an analog microphone input through the ADC, checks whether a button is pressed, and drives both an onboard LED and a digital output line accordingly. After initializing the system and ADC, the code enters an infinite loop where it samples the microphone (on analog channel ANA0) and compares the measured value to a defined threshold. If the sound level detected by the microphone exceeds the set threshold, the LED turns on and sends out a digital \u201cyes\u201d signal (logic high) is sent out on pin RA1 if the sound is below the threshold, both outputs remain low. This output signal is sent to and read by a seperate board.</p> <p>The button on RB4 acts as a manual override. When pressed, it bypasses the microphone logic and forces both the LED and the output signal high after a short debounce delay. This allows the user to trigger the external signal or LED even when the microphone input is quiet. Overall, the code implements a simple sound-triggered digital output with a user-controlled override.</p> <p>The zip folder of the project is available here.</p>","tags":["tag1","tag2"]},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}